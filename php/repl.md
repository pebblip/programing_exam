# ```calculator.php```という名前の計算機プログラムを途中まで作成した。この計算プログラムを完成させよ。この計算機はコマンドで各計算指示を受け付ける。プログラム開始時の計算結果は０であり、各コマンドはこの計算結果とパラメータで指示された数値で演算を行い、計算結果を更新する。

## 途中まで作成したプログラム {.unnumbered}
```php
<?php

while (true) {
    echo ">>";
    $line = fgets(STDIN);
    $args = preg_split('/\s+/', $line);
    echo $line, PHP_EOL;
}
```
このようなユーザからの入力を受付、それを処理して表示するプログラムをREPL（Read,Eval,Print,Loop）と呼ぶ。

### コマンド {.unnumberd}

|コマンド|パラメータ|動作|
|---|---|---|
|ADD|整数|これまでの結果に指定された数を足して結果を表示する。|
|SUB|整数|これまでの結果から指定された数を引いて結果を表示する。|
|MUL|整数|これまでの結果に指定された数を掛けて結果を表示する。|
|DIV|整数|これまでの結果から指定された数を割って結果を表示する。|
|CLR||現在の計算結果を0にリセットして結果を表示する。|
|EXIT||プログラムを終了する。|

### 動作例 {.unnumbered}

```bash
>php calculator.php
>>ADD 1
1
>>ADD 2
3
>>SUB 1
2
>>MUL 5
5
>>CLR
0
>>EXIT //終了
```

# 単一換字式暗号方式により、文字列を暗号化するプログラム```encode.php```を途中まで作成した。各課題に取り組み、このプログラムを完成させよ。ただし、問題に示している条件を満たすこと。

## 単一換字式暗号とは {.unnumbered} 
各文字を決められた文字数分（以下、これをシフト数と呼ぶ）次の文字にずらして暗号文を作る方式である。例えば、「ABCDE」という文字列を単一換字式暗号によりシフト数を３として暗号化するとする。各文字を３文字ずらすのであるから、AはD、BはE、CはF、DはG、EはHとなり、暗号文は「DEFGH」となる。シフト数が４であれば、暗号文は「EFGHI」となる。単一換字式暗号の１つに有名なシーザー暗号が知られている。


## 制約・条件 {.unnumbered}
* 暗号化する文字は小文字のアルファベット２６文字のみとする。
* zの次の文字はaに戻るものとする。
* アルファベット小文字以外の文字は変換せずにそのままの文字を用いるものとする。例えば、"i love java!"という文字列をシフト数を２として暗号化すると、"k nqxg lcxc!"となる。

## 途中まで作成したプログラム {.unnumbered}
以下は途中まで作成した暗号化プログラム```encode.php```である。

```php
/**
 * アルファベットの小文字a〜zをそれぞれ整数0〜25に変換します。
 * @param $c string a〜zのアルファベット
 * @return 0〜25の整数
 */
function char2int($c) {
    return ord($c) - ord('a');
}

/**
 * 整数0〜25をそれぞれアルファベットの小文字a〜zに変換します。
 * @param $i int 0〜25の整数
 * @return string a〜zのアルファベット
 */
function int2char($i) {
    return chr(ord('a') + $i);
}

/**
 * 文字cがアルファベットならばtrueを返します。
 * @param $c string 
 * @return bool
 */
function isAlpha($c) {
    return ctype_alpha($c);
}
```

## 文字を与えられたシフト数でシフトする関数```shift```を追加せよ。すでに定義されている関数を利用すること。

### 関数の使用例 {.unnumbered}
```php
$c1 = shift(3, 'a'); //変数c1は文字'd'となる
$c2 = shift(2, 'p'); //変数c2は文字'r'となる
$c3 = shift(3, 'z'); //変数c3は文字'c'となる
```

## 文字列を与えられたシフト数で暗号化する関数```encode```を追加せよ。

### 関数の使用例 {.unnumbered}
```php
$encoded = encode(2, "i love java!"); //文字列"k nqxg lcxc!"となる。
```

### スーパーヒント {.unnumbered}
* PHP組み込み関数```str_split```は文字列の各文字を要素とする配列を返す。

## 上記の```encode```で暗号化した文字列を復号化（元の文字列に戻す）関数```decode```を追加せよ。

### 関数の使用例 {.unnumbered}

```php
$encoded = encode(2, "i love java!"); //文字列"k nqxg lcxc!"となる。
$decoded = decode(2, encoded); //文字列"i love java!"となる。
``` 

## 上記で作成した暗号化プログラム```encode.php```を用いて、以下のコマンドで動作するREPLプログラム```encode_runner.php```を作成せよ。

### コマンド {.unnumberd}

|コマンド|パラメータ|動作|
|---|---|---|
|ENC|数値、文字列|与えられた数値をシフト数として文字列を暗号化して表示する|
|DEC|数値、文字列|与えられた数値をシフト数として暗号化文字列を複合化して表示する|
|EXIT||プログラムを終了する。|

### 実行例 {.unnumberd}

```bash
>php encode_runner.php
>>ENC 2 i love java!
k nqxg lcxc!
>>DEC 2 k nqxg lcxc!
i love java!
>>EXIT
bye
```

# 三目並べプログラム```3inrow.php``` を作成せよ。

 ### 実行例 {.unnumberd}
 
```bash
>php 3inrow.php
>>先手(1)か後手(2)を選んでください: 1
   0  1  2
0|  |  |  |
1|  |  |  |
2|  |  |  |
>>ます(縦、横)を選択してください: 0,1
   0  1  2
0| ☓|  |  |
1|  |  |  |
2|  |  |  |
>>コンピュータの手は2,2です
   0  1  2
0| ☓|  |  |
1|  |  |  |
2|  |  | ○|
>>ます(縦、横)を選択してください: 
//以下、繰返し
   0  1  2
0| ☓| ☓| ☓| 
1| ○| ○| ○|
2| ☓| ☓| ○|
>>引き分け
>>EXIT
```
